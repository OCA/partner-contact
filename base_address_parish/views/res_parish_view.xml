<?xml version="1.0" encoding="utf-8" ?>
<odoo>
        <record id="view_parish_tree" model="ir.ui.view">
            <field name="model">res.parish</field>
            <field name="arch" type="xml">
                <tree editable="top">
                    <field name="name" />
                    <field name="zip" />
                    <field name="city_id" context="{'default_state_id': state_id}" />
                    <field name="state_id" />
                    <field name="country_id" />

                </tree>
            </field>
        </record>

        <record id="view_parish_filter" model="ir.ui.view">
            <field name="model">res.parish</field>
            <field name="arch" type="xml">
                <search string="Search Parish">
                    <field
                    name="name"
                    filter_domain="['|', ('name','ilike',self), ('zip','ilike',self)]"
                    string="Parish"
                />
                    <separator />
                    <field name="country_id" />
                    <field name="state_id" />
                    <field name="city_id" />
                </search>
            </field>
        </record>

        <record id="action_res_parish_tree" model="ir.actions.act_window">
            <field name="name">Parishes</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.parish</field>
            <field name="view_mode">tree</field>
            <field name="help">
                Display and manage the list of all parishes that can be assigned to
                your partner records. Note that an option can be set on each country separately
                to enforce any address of it to have a parish in this list.
            </field>
        </record>

        <menuitem
        name="Parishes"
        id="locations_menu_parishes"
        parent="contacts.menu_localisation"
        action="action_res_parish_tree"
        sequence="5"
    />
</odoo>
